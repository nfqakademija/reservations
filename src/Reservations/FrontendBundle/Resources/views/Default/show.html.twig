{% extends '::base.html.twig' %}

{% block title %}{{ bar.name }}{% endblock %}

{% block body %}
    {{ form(form) }}
{% endblock %}

{% block javascripts %}
    <script type="text/javascript">
        $(document).ready(function(){
            var array = [
                {% for reservation in reservations %}
                "{{ reservation.date|date('Y-m-d') }}",
                {% endfor %}
            ]
            $('#reservations_corebundle_reservations_date').datepicker({
                firstDay: 1,
                dateFormat: 'yy-mm-dd',
                showOtherMonths: true,
                dayNamesMin: ['S', 'P', 'A', 'T', 'K', 'P', 'Š'],
                monthNames: [
                    'Sausis',
                    'Vasaris',
                    'Kovas',
                    'Balandis',
                    'Gegužė',
                    'Birželis',
                    'Liepa',
                    'Rugpjūtis',
                    'Rugsėjis',
                    'Spalis',
                    'Lapkritis',
                    'Gruodis'
                ],
                beforeShowDay: function(date){
                    var string = $.datepicker.formatDate('yy-mm-dd', date);
                    return [ array.indexOf(string) == -1 ]
                }
            });
        });
    </script>
{% endblock %}
